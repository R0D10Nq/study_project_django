# Django Landings

Модульная система для создания лендингов на Django.

## Структура проекта

```
project/
├── core/                  # Ядро системы
│   ├── chunks/            # Части шаблонов
│   ├── elist/             # Расширенные списки
│   ├── models.py          # Основные модели
│   ├── templatetags/      # Кастомные теги/фильтры
│   ├── templates/         # Шаблоны
│   ├── utils/             # Утилиты
│   │   ├── landing_utils.py  # Работа с лендингами
│   │   ├── html_utils.py     # Работа с HTML
│   │   ├── cache_utils.py    # Кеширование
│   │   ├── file_utils.py     # Работа с файлами
│   │   └── ...
│   └── ...
├── modules/               # Модульная система
│   ├── _template/         # Шаблон для новых модулей
│   ├── m-about/           # Модуль "О компании"
│   ├── m-benefits/        # Модуль "Преимущества"
│   └── ...
├── _sites/                # Мультисайтовая конфигурация
├── media/                 # Загружаемые файлы
├── static/                # Статические файлы
├── settings.py            # Настройки проекта
├── urls.py                # Маршрутизация
└── ...
```

## Быстрый старт

1. **Запуск в режиме разработки**:
   ```
   dev.bat
   ```

2. **Создание нового модуля**:
   ```
   python create_module.py название-модуля
   ```

## Основные компоненты

### Core

Ядро системы содержит базовые модели, утилиты и шаблоны.

#### Модели

- `Landing` - модель лендинга
- `Page` - модель страницы
- `EList` - редактируемые списки

#### Утилиты

Утилиты разбиты на логические модули в директории `core/utils/`:

- `landing_utils.py` - работа с лендингами
- `html_utils.py` - работа с HTML и шаблонами
- `cache_utils.py` - кеширование
- `file_utils.py` - работа с файлами и изображениями

### Модули

Система использует модульный подход, где каждый модуль - независимый блок с шаблоном и статическими файлами.

#### Структура модуля

```
modules/m-название/
├── static/
│   ├── css/
│   ├── js/
│   └── img/
├── template.html
└── README.md
```

#### Использование модулей

В шаблонах:
```html
{% module "m-название" variables={"key": "value"} %}
```

### Мультисайтовость

Проект поддерживает мультисайтовую архитектуру через директорию `_sites/`, где каждый поддомен имеет свою конфигурацию.

## Разработка

### Тестирование

Запуск тестов:
```
python manage.py test
```

### Создание новых утилит

При создании новых утилит следуйте принципу единой ответственности (SRP) и размещайте их в соответствующих модулях в `core/utils/`.

## Рекомендации по улучшению

1. **Безопасность**:
   - Вынести SECRET_KEY в env-переменные
   - Настроить HTTPS для продакшена

2. **Производительность**:
   - Настроить кеширование
   - Оптимизировать загрузку статики

3. **Разработка**:
   - Стандартизировать модули
   - Добавить документацию
